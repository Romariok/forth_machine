# Лабораторная работа №3. Эксперимент
Кобелев Роман, P3212 без усложнения
## Цель:

- экспериментальное знакомство с устройством процессоров через моделирование;
- получение опыта работы с компьютерной системой на нескольких уровнях организации, разрешая противоречия между ними.

## Данная лабораторная работа носит практический характер. Она включает разработку:

- языка программирования и транслятора;
- системы команд;
- модели процессора и его принципиальной схемы;
- нескольких алгоритмов (реализация и тестирование работы).

## Дополнительно:

- работа с CI;
- средства автоматического контроля качества кода;
- автоматическое тестирование.

# Вариант
`forth | stack | harv | mc | tick | struct | stream | port | pstr | prob2`


# Язык программирования
По варианту нужно реализовать FORTH-подобный язык

```
<program> ::= <definition>*
<definition> ::= <word-definition> | <variable-definition> | <constant-definition>
<word-definition> ::= ":" <word-name> <body> ";" | ":NONAME" <body> ";"
<word-name> ::= <identifier>
<body> ::= <word>*
<word> ::= <literal> | <primitive> | <word-name> | <conditional> | <loop> | <leave> | <comparsion>
<literal> ::= <number> | <string>
<number> ::= <digit>+
<string> ::= "'" <char>* "'"
<primitive> ::= "+" | "-" | "*" | "/" | "." | "@" | "!" 
<variable-definition> ::= "VARIABLE" <word-name>
<constant-definition> ::= "CONSTANT" <word-name> <number>
<conditional> ::= "IF" <body>
<condition> ::= <number> | <literal>
<loop> ::= "DO" <body> "LOOP"
<leave> ::= "LEAVE"
<comparison> ::= "<" | ">" | "="
<identifier> ::= <letter> (<letter> | <digit>)*
<letter> ::= "A" | "B" | ... | "Z" | "a" | "b" | ... | "z"
<digit> ::= "0" | "1" | ... | "9"
```
`any number` - Записываем в стек число

`variable <name> <value>` - Приисвоить переменной с именем `<name>` значение `<value>`

`+` - Вынимает два последних значения в стеке и записывает результат их сложения

`-` - Вынимает два последних значения в стеке и записывает результат вычитания из предпоследнего элемента последнего 

`*` - Вынимает два последних значения в стеке и записывает результат их перемножения

`/` - Вынимает два последних значения в стеке и записывает результат деления из предпоследнего элемента последнего 

`.` - Вынимает последний элемент из стека и выводит его

`< > =` - Идёт сравнение предпоследжнего элемента стека с последним и записывается `0`, если не выполняется условие и `-1`, если выполняется

`:_start` - задание основной функции

`;` - `HLT`

`!` - помещает значение и ячейку памяти в стек и сохраняет это значение в этой ячейке памяти

`@` - извлекает значение на основе расположения в памяти и помещает это значение в стек

`do loop` - условный оператор, напоминающий конструкцию `for` в большинтсве языков на основе `C`. специальное слово `i` помещает текущий индекс цикла в стек. Два верхних значения в стеке дают начальное значение (включительно) и конечное значение (исключая) для значения `i`. Начальное значение берется с вершины стека.

`leave` - выход из цикла

`if <expression>` - сравнивает значение регистра с указанным значением и устанавливает значение статуса

# Организация памяти
Так как у меня Гарвардская архитектура, то у меня память данных и память инструкций будут разделены

# Система команд
- Машинное слово - 16 бит
```yaml
instruction:
   op_code: 0
   addr: 0
```
# Control Unit
Занимается декодированием микрокоманд

Листинг микрокоманд:

```

```


Можно ли как в asm variables
Нужно ли отдельно функцию